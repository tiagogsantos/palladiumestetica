function number_format(n,c,d,t){c=isNaN(c=Math.abs(c))?2:c,d=d==undefined?".":d,t=t==undefined?",":t,s=n<0?"-":"",i=String(parseInt(n=Math.abs(Number(n)||0).toFixed(c))),j=(j=i.length)>3?j%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")}function formata_dolar(conversao){if(conversao=='US$'){$('.converte').each(function(){var valor_noformat=$(this).attr('data-valor');var valor_format='US$ '+number_format(valor_noformat,2,',','.');$(this).text(valor_format)});var v_o_o=$('.v_o').attr('data-valor');$('.m_o').text("US$");$('.v_o').text(number_format(v_o_o,2,',','.'))}else{$('.converte').each(function(){var valor_noformat=$(this).attr('data-valor')/$(this).attr('data-cotacao');var valor_format='US$ '+number_format(valor_noformat,2,',','.');$(this).text(valor_format)});var v_o_o=$('.v_o').attr('data-valor');$('.m_o').text("US$");$('.v_o').text(number_format(v_o_o/$('.price-value').attr('data-cotacao'),2,',','.'))}}function formata_real(conversao){if(conversao=='US$'){$('.converte').each(function(){var valor_noformat=$(this).attr('data-valor')*$(this).attr('data-cotacao');var valor_format='R$ '+number_format(valor_noformat,2,',','.');$(this).text(valor_format)});var v_o_o=$('.v_o').attr('data-valor');$('.m_o').text("R$");$('.v_o').text(number_format(v_o_o*$('.price-value').attr('data-cotacao'),2,',','.'))}else{$('.converte').each(function(){var valor_noformat=$(this).attr('data-valor');var valor_format='R$ '+number_format(valor_noformat,2,',','.');$(this).text(valor_format)});var v_o_o=$('.v_o').attr('data-valor');$('.m_o').text("R$");$('.v_o').text(number_format(v_o_o,2,',','.'))}}function rota_moeda(){moeda_ativa=$('input:radio[name=moeda]:checked').val();if(moeda_ativa=='dolar'){formata_dolar($('.table-precos').attr('data-moeda'))}if(moeda_ativa=='real'){formata_real($('.table-precos').attr('data-moeda'))}}rota_moeda();$('input:radio[name=moeda]').change(function(){$('.table-precos').find('tbody').find('tr').animate({opacity:'.6'});$('.table-precos').find('tbody').find('tr').animate({opacity:'1'});rota_moeda()});console.log(moeda_ativa);